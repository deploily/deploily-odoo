<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <template id="cibepay_form">
        <div>
            <input type="hidden" name="data_set" t-att-data-action-url="tx_url" data-remove-me="" />
            <input type="hidden" name="mdOrder" t-att-value="mdOrder" />
        </div>
    </template>
    <template id="cibepay_redirect_form">
        <form t-att-action="api_url" method="get">
            <input type="hidden" name="mdOrder" t-att-value="mdOrder" />
            <input type="hidden" name="language" value="fr" />
            <!-- <div class="alert alert-danger" role="alert">
                Payment redirection failed.
            </div> -->
        </form>

    </template>


    <template id="cibepay_payment_method_form" inherit_id="payment.method_form">
        <xpath expr='//div[@name="o_payment_tokenize_container"]' position='replace'>
            <div t-if="mode == 'payment'
            and pm_sudo.code=='cibepay'"
                name="o_term_conditions"
                class="o-checkbox form-check m-0"
            >
                <label>
                    <input name="o_payment_tokenize_checkbox"
                        type="checkbox"
                        class="form-check-input"
                    />
                    <span> J'accepte les </span>
                    <a t-att-href="website.terms_conditions_page.url" target="_blank"> conditions d'utilisation </a>
                </label>
            </div>
        </xpath>
        <xpath expr='//input[@name="o_payment_tokenize_checkbox"]' position='replace'>
            <input name="o_payment_tokenize_checkbox"
                type="checkbox"
                class="form-check-input"
                id="payment_terms_conditions_checkbox"
                onchange="updateSubmit_signup();"
            />
        </xpath>
        <xpath expr='//div[@class="o-checkbox form-check m-0"]' position='inside'>
            <t t-call="website_terms.recaptcha">
                <t t-set="callback_name">updateSubmit_signup</t>
            </t>
        </xpath>

    </template>
    <template id="cibepay_submit_button" inherit_id="payment.submit_button">
        <xpath expr='//button[@name="o_payment_submit_button"]' position='replace'>

            <button name="o_payment_submit_button"
                type="submit"
                class="btn btn-primary w-100 w-md-auto ms-auto px-5"
                disabled="true"
            > Pay now <img id="cib_logo" class="cib-hidden" src="/payment_satim/static/src/images/logo_cib.png" height="37" alt="logo CIB" />
            </button>

        </xpath>
    </template>

    <template id="payment_cibepay_sale_confirmation_sendmail" name="Products">
        <t t-call="website.layout">
            <t t-set="additional_title"> Confirmation de mail </t>
            <div class="text-left p-4">
                <h5>
                    <span> Un mail a été transmis à l'adresse suivant : </span>
                    <em t-esc="mail_address" />
                </h5>
            </div>
        </t>
    </template>

    <template id="payment_satim.payment" inherit_id="website_sale.payment">
        <xpath expr='//div[@id="address_on_payment"]' position='before'>
            <!-- <t t-set="providers" t-value="[acq.provider for acq in acquirers if acq.state in ['test', 'enabled']]" /> -->
            <!-- <t t-if="'cibipay' in providers"> -->
            <div class="mt-4 ">
                <h4 class="fs-6 small text-uppercase fw-bolder">
                    <span> Numéro de la Commande : </span>
                    <b>
                        <em t-esc='website_sale_order.name' />
                    </b>
                </h4>
            </div>
            <!-- </t> -->
        </xpath>
    </template>


</odoo>